"""
proximityPin -
    Module containing functions to edit the proximityPin node
"""
import maya
maya.utils.loadStringResourcesForModule(__name__)


import maya.cmds

import maya.internal.common.cmd.optionvar as cmdopt
import maya.internal.common.utils.ui as ui_utils
import maya.internal.nodes.common.pin.node_interface as pin_ifc

# ------------------------------------------------------------------------------
# Command
# ------------------------------------------------------------------------------
class Command(cmdopt.Command):

    def __init__(self):
        super(Command, self).__init__()
        self.commandName = 'ProximityPinEdit'
        self.commandHelpTag	= 'ProximityPin'
        self.windowTag	= 'ProximityPinEdit'
        self.commandTitle = maya.stringTable['y_maya_internal_nodes_proximitypin_cmd_optionvar.kProximityPinCommandTitle' ]
        self.commandDescription = maya.stringTable['y_maya_internal_nodes_proximitypin_cmd_optionvar.kProximityPinDescription' ]
        self.optionVarCategory = 'Animation.Constrain.Proximity Pin.Edit'
        self.optionVarPrefix = 'ProximityPinEdit'
        self.optionVarDefaults.update( {
            'inputConnect':  pin_ifc.eXformIO.kLocator,
            'outputConnect':  pin_ifc.eXformIO.kCurrent } )

    def addContentDialogWidgets(self):
        widgetDict = {} # {optionVarDictKey, (widgetClass, widget)}
        with ui_utils.AttributeLayoutManager():
            widget, lookup = pin_ifc.createXformIOMenu(label=pin_ifc.labelOutputConnect, annotation=pin_ifc.annotOutputConnect, changeCommand=self._onUpdateWidgets)
            self.optionMenuGrp_labelToEnum['outputConnect'] = lookup
            widgetDict['outputConnect'] = (maya.cmds.optionMenuGrp, widget)

            widget, lookup = pin_ifc.createXformIOMenu(label=pin_ifc.labelInputConnect, annotation=pin_ifc.annotInputConnect, changeCommand=self._onUpdateWidgets)
            self.optionMenuGrp_labelToEnum['inputConnect'] = lookup
            widgetDict['inputConnect'] = (maya.cmds.optionMenuGrp, widget)

        return widgetDict
# ===========================================================================
# Copyright 2022 Autodesk, Inc. All rights reserved.
#
# Use of this software is subject to the terms of the Autodesk license
# agreement provided at the time of installation or download, or which
# otherwise accompanies this software in either electronic or hard copy form.
# ===========================================================================
