import maya
maya.utils.loadStringResourcesForModule(__name__)

import maya.cmds as cmds
import maya.internal.common.ae.template as aetemplate


class AETemplate(aetemplate.Template):
    def buildUI(self, nodename ):
        with aetemplate.Layout(self, maya.stringTable['y_maya_internal_nodes_composematrix_ae_template.kLabelComposeMatrix' ]):
            with aetemplate.Layout(self, maya.stringTable['y_maya_internal_nodes_composematrix_ae_template.kInputProperties' ]):
                self.addControls([
                    'inputTranslate',
                    'inputRotate',
                    'inputScale',
                    'inputShear',
                    'inputRotateOrder',
                    ])
                self.addControl('useEulerRotation', callback=self.composeMatrixDimCallback)
                self.addControl('inputQuat')

            with aetemplate.Layout(self, maya.stringTable['y_maya_internal_nodes_composematrix_ae_template.kOutputProperties' ]):
                self.addControls(['outputMatrix'])

        self.callTemplate('dependNode')

    @staticmethod
    def composeMatrixDimCallback(nodename):
        useEuler = cmds.getAttr("%s.useEulerRotation"%nodename)
        cmds.editorTemplate(dimControl=[nodename, "inputRotate", useEuler == 0])
        cmds.editorTemplate(dimControl=[nodename, "inputRotateOrder", useEuler == 0])
        cmds.editorTemplate(dimControl=[nodename, "inputQuat", useEuler == 1])# ===========================================================================
# Copyright 2022 Autodesk, Inc. All rights reserved.
#
# Use of this software is subject to the terms of the Autodesk license
# agreement provided at the time of installation or download, or which
# otherwise accompanies this software in either electronic or hard copy form.
# ===========================================================================
