
"""
    Implements a window close button with the HIG look
"""

from PySide2 import QtWidgets
from .utils import DPIScale, getDPIPixmapName


class HIGCloseButton(QtWidgets.QPushButton):
    def __init__(self, parent=None):
        super(HIGCloseButton, self).__init__(parent)
        size = DPIScale(10)
        self.setFixedSize(size, size)
        self.setFlat(True)
        self.setProperty("btnStyle", "closeButton")
        css = """
        QPushButton[btnStyle=closeButton] {{
            border-image: url({reg});
            border: 0px;
            padding: 0px;
            background-repeat: no-repeat;
            }}
        QPushButton[btnStyle=closeButton]::hover {{
            border-image: url({hover});
            background-repeat: no-repeat;
            }}
        """.format(
            reg=getDPIPixmapName("close_regular"),
            hover=getDPIPixmapName("close_hover"))

        self.setStyleSheet(css)
# ===========================================================================
# Copyright 2022 Autodesk, Inc. All rights reserved.
#
# Use of this software is subject to the terms of the Autodesk license
# agreement provided at the time of installation or download, or which
# otherwise accompanies this software in either electronic or hard copy form.
# ===========================================================================
