#version 330 core

const uint pattern = 0xC3C3C3C3u;
const float factor = 1.0f;

in GS_OUT
{
    vec4  color;
    float stippleLineCoord;
    flat uint  useStipplePattern;
}ps_input;


out vec4 color;
 
void main()
{
    if( ps_input.useStipplePattern == 1u )
    {
        uint bit = uint( round( ps_input.stippleLineCoord / factor) ) & 31U;
        if((pattern & (1U<<bit)) == 0U)
            discard;    
    }
    
    color = ps_input.color;
}

