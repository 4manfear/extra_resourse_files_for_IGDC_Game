#version 330 core

const float factor = 2.0f;

in GS_OUT
{
	vec4  color;
	float stippleLineCoord;
	flat uint pattern;
} ps_input;

out vec4 color;

void main()
{
	uint bit = uint( round( ps_input.stippleLineCoord / factor) ) & 31U;
	if((ps_input.pattern & (1U<<bit)) == 0U)
		discard;

	color = ps_input.color;
}
