// ===========================================================================
// Copyright 2022 Autodesk, Inc. All rights reserved.
//
// Use of this software is subject to the terms of the Autodesk license
// agreement provided at the time of installation or download, or which
// otherwise accompanies this software in either electronic or hard copy form.
// ===========================================================================
//
// provided at the time of installation or download, or which otherwise accompanies 

global proc ilrUpdateAECameraOptions(string $parent, string $node)
{
	string $oldParent = `setParent -q`;

	setParent $parent;
	
	if (`attributeQuery -exists -node $node "ilrEnvCamera"`) {
		int $enable = `getAttr ($node + ".ilrEnvCamera")`;

		attrEnumOptionMenuGrp -e -enable $enable ilrEnvCameraType;
	}

	setParent $oldParent;
}

global proc ilrCreateAECameraOptions(string $parent, string $node)
{
	string $oldParent = `setParent -q`;

	setParent $parent;

	string $updcmd = "ilrUpdateAECameraOptions(\\\"" + $parent + "\\\", \\\"" + $node + "\\\")";

	if (`attributeQuery -exists -node $node "ilrEnvCamera"`) {

		attrControlGrp -label "Environment Camera"
			-attribute ($node + ".ilrEnvCamera")
			-changeCommand $updcmd;
		
		attrEnumOptionMenuGrp -label "Type"
			-attribute ($node + ".ilrEnvCameraType")
			ilrEnvCameraType;
	}
	
	setParent $oldParent;
	
	ilrUpdateAECameraOptions($parent, $node);
}