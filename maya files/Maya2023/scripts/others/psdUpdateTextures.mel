// ===========================================================================
// Copyright 2022 Autodesk, Inc. All rights reserved.
//
// Use of this software is subject to the terms of the Autodesk license
// agreement provided at the time of installation or download, or which
// otherwise accompanies this software in either electronic or hard copy form.
// ===========================================================================
//
//
//  Creation Date:  October 28 2003
//
//  Description:
//      This script is for updating all the PSD file texture nodes 
//  

global proc psdUpdateTextures()
//  Description:
//      This function is for updating all the PSD file texture nodes 
//		with the latest PSD file.
//
{
    string $psdNodes[] = `ls -type psdFileTex`;

    int $psdCount = size($psdNodes);
    if ($psdCount < 1)
       return;
    
    string $psdFileName;
    
    int $psdIndex;
    for($psdIndex = 0; $psdIndex < $psdCount; $psdIndex++){
    	$psdFileName = `getAttr ($psdNodes[$psdIndex] + ".fileTextureName")`;
		setAttr ($psdNodes[$psdIndex] + ".fileTextureName") -type "string" $psdFileName;
    }
}
