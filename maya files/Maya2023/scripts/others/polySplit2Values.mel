// ===========================================================================
// Copyright 2022 Autodesk, Inc. All rights reserved.
//
// Use of this software is subject to the terms of the Autodesk license
// agreement provided at the time of installation or download, or which
// otherwise accompanies this software in either electronic or hard copy form.
// ===========================================================================
global proc polySplit2ValuesSetColor(string $tool, string $flag, string $control)
{
	if (`colorSliderGrp -exists $control` &&
		`polySplitCtx2 -exists $tool`)
	{
		string $cmd = ("colorSliderGrp -q -rgb " + $control);

		float $color[] = eval($cmd);

		$cmd = ("polySplitCtx2 -edit -" + $flag);
		$cmd += (" " + $color[0]);
		$cmd += (" " + $color[1]);
		$cmd += (" " + $color[2]);
		$cmd += (" " + $tool);

		eval $cmd;
	}
}

global proc polySplit2Values( string $toolName )
{
	string $parent = (`toolPropertyWindow -q -location` + "|polySplit2");
	setParent $parent;

    checkBoxGrp -e
		-value1 `polySplitCtx2 -q -detachEdges $toolName`
        -onCommand1  ("polySplitCtx2 -e -detachEdges true  "+$toolName)
        -offCommand1 ("polySplitCtx2 -e -detachEdges false "+$toolName)
		PolySplit2DetachEdges;

    checkBoxGrp -e
		-value1 `polySplitCtx2 -q -constrainToEdges $toolName`
        -onCommand1  ("polySplitCtx2 -e -constrainToEdges true  "+$toolName)
        -offCommand1 ("polySplitCtx2 -e -constrainToEdges false "+$toolName)
		PolySplit2ConstrainToEdge;

	checkBoxGrp -e
		-value1 `polySplitCtx2 -q -insertWithEdgeFlow $toolName`
		-onCommand1  ("polySplitCtx2 -e -insertWithEdgeFlow true  "+$toolName)
		-offCommand1 ("polySplitCtx2 -e -insertWithEdgeFlow false "+$toolName)
		PolySplit2InsertWithEdgeFlow;

	floatSliderGrp -e
		-enable `polySplitCtx2 -q -insertWithEdgeFlow $toolName`
		-value `polySplitCtx2 -q -adjustEdgeFlow $toolName`
		-changeCommand ("polySplitCtx2 -e -adjustEdgeFlow #1 "+$toolName)
		PolySplit2AdjustEdgeFlow;

	intFieldGrp -e
		-v1 `polySplitCtx2 -q -edgeMagnets $toolName`
		-changeCommand ("polySplitCtx2 -e -edgeMagnets #1 "+$toolName)
		PolySplit2EdgeMagnets;

	floatSliderGrp -e
		-value `polySplitCtx2 -q -snappingTolerance $toolName`
		-changeCommand ("polySplitCtx2 -e -snappingTolerance #1 "+$toolName)
		PolySplit2SnapTolerance;

	string $cmd;
	float $color[] = `polySplitCtx2 -q -snappedToEdgeColor $toolName`;
	$cmd = ("polySplit2ValuesSetColor \"" + $toolName + "\" \"snappedToEdgeColor\" \"polySplit2EdgeColorSlider\"");
	colorSliderGrp -edit -rgbValue $color[0] $color[1] $color[2] 
			-changeCommand ($cmd)
			polySplit2EdgeColorSlider;

	$color = `polySplitCtx2 -q -snappedToFaceColor $toolName`;
	$cmd = ("polySplit2ValuesSetColor \"" + $toolName + "\" \"snappedToFaceColor\" \"polySplit2FaceColorSlider\"");
	colorSliderGrp -edit -rgbValue $color[0] $color[1] $color[2] 
			-changeCommand ($cmd)
			polySplit2FaceColorSlider;

	$color = `polySplitCtx2 -q -snappedToVertexColor $toolName`;
	$cmd = ("polySplit2ValuesSetColor \"" + $toolName + "\" \"snappedToVertexColor\" \"polySplit2VertexColorSlider\"");
	colorSliderGrp -edit -rgbValue $color[0] $color[1] $color[2] 
			-changeCommand ($cmd)
			polySplit2VertexColorSlider;

	$color = `polySplitCtx2 -q -snappedToMagnetColor $toolName`;
	$cmd = ("polySplit2ValuesSetColor \"" + $toolName + "\" \"snappedToMagnetColor\" \"polySplit2MagnetColorSlider\"");
	colorSliderGrp -edit -rgbValue $color[0] $color[1] $color[2] 
			-changeCommand ($cmd)
			polySplit2MagnetColorSlider;

	$color = `polySplitCtx2 -q -highlightPointColor $toolName`;
	$cmd = ("polySplit2ValuesSetColor \"" + $toolName + "\" \"highlightPointColor\" \"polySplit2PSHColorSlider\"");
	colorSliderGrp -edit -rgbValue $color[0] $color[1] $color[2] 
			-changeCommand ($cmd)
			polySplit2PSHColorSlider;

	$color = `polySplitCtx2 -q -splitLineColor $toolName`;
	$cmd = ("polySplit2ValuesSetColor \"" + $toolName + "\" \"splitLineColor\" \"polySplit2LineColorSlider\"");
	colorSliderGrp -edit -rgbValue $color[0] $color[1] $color[2] 
			-changeCommand ($cmd)
			polySplit2LineColorSlider;

	string $icon = "polySplitFacet.png";
	string $helpTag = "PolySplitTool";
	toolPropertySetCommon $toolName $icon $helpTag;
	toolPropertySelect "polySplit2";
}
