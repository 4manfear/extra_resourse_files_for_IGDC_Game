// ===========================================================================
// Copyright 2022 Autodesk, Inc. All rights reserved.
//
// Use of this software is subject to the terms of the Autodesk license
// agreement provided at the time of installation or download, or which
// otherwise accompanies this software in either electronic or hard copy form.
// ===========================================================================
//
//	Proceduce Name:
//		doDeleteNclothCacheFrames
//
//	Description:
//		Delete cache frames as specified by options
//
//	Input Arguments:
//		Start time, end time, rename argument, noBackups flag
//
//	Return Value:
//		None
//
global proc doDeleteNclothCacheFrames(	int $timeMode,
										float $startTime,
										float $endTime,
										string $rename,
										int $noBackups )
{
	string $obj;
	string $cmd = "cacheFile -refresh -deleteCachedFrame";
	string $objects[] = getNclothObjectsToCache(1);
	for( $obj in $objects ) {
		$cmd += (" -cacheableNode " + $obj);
	}
	
	if( $rename != "" ) {
		$cmd += (" -fileName \"" + $rename + "\"");
	}

	if( $timeMode == 1 ) {
		$startTime = `currentTime -q`;
		$endTime = $startTime;
	}
	$cmd += (" -startTime " + $startTime );
	$cmd += (" -endTime " + $endTime ); 

	if( $noBackups ) {
		$cmd += " -noBackup";
	}

	evalEcho( $cmd );
}
