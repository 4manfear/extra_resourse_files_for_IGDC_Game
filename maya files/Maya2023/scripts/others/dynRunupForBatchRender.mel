// ===========================================================================
// Copyright 2022 Autodesk, Inc. All rights reserved.
//
// Use of this software is subject to the terms of the Autodesk license
// agreement provided at the time of installation or download, or which
// otherwise accompanies this software in either electronic or hard copy form.
// ===========================================================================

//
// Execute runup for hair/fluid/particles
// during batch rendering.
// It takes a render globals node of current renderer.
global proc dynRunupForBatchRender()
{
	string $renderGlobal = "defaultRenderGlobals";
	if( `getAttr ($renderGlobal + ".animation")` )	
	{
		// animation. runup to start frame
		runup -mxf `getAttr ($renderGlobal + ".startFrame")` -fromStartFrame -cache;
	}
	else	
	{
		// single frame batch render. runup to current frame
		runup -mxf `currentTime -q` -fromStartFrame -cache; 
	}
}