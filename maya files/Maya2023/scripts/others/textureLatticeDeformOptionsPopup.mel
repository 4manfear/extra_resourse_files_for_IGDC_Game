// ===========================================================================
// Copyright 2022 Autodesk, Inc. All rights reserved.
//
// Use of this software is subject to the terms of the Autodesk license
// agreement provided at the time of installation or download, or which
// otherwise accompanies this software in either electronic or hard copy form.
// ===========================================================================
global proc textureLatticeDeformOptionsPopup()
{
	string $columnsLabel = (uiRes("m_textureLatticeDeformOptionsPopup.kColumns"));
	string $rowLabel = (uiRes("m_textureLatticeDeformOptionsPopup.kRows"));
	string $boundingRectLabel = (uiRes("m_textureLatticeDeformOptionsPopup.kUseBoundingRectangle"));
	string $placementLabel = (uiRes("m_textureLatticeDeformOptionsPopup.kPlacement"));
	string $cornerLabel = (uiRes("m_textureLatticeDeformOptionsPopup.kSnapCorner")); 
	string $centerLabel = (uiRes("m_textureLatticeDeformOptionsPopup.kSnapCenter"));

	int $boundingRectValue = `texLatticeDeformContext -q -useBoundingRect texLatticeDeformCtx`;
	int $placementValue = `texLatticeDeformContext -q -snapPixelMode texLatticeDeformCtx`;

	string $ThreeLabel = (uiRes("m_textureLatticeDeformOptionsPopup.kThree"));
	string $FourLabel = (uiRes("m_textureLatticeDeformOptionsPopup.kFour"));
	string $FiveLabel = (uiRes("m_textureLatticeDeformOptionsPopup.kFive"));
	string $SixLabel = (uiRes("m_textureLatticeDeformOptionsPopup.kSix"));

	menuItem
		-label $columnsLabel
		-radialPosition "W"
		-subMenu 1;

		menuItem
			-label $ThreeLabel
			-command ("texLatticeDeformContext -e -latticeColumns 3 texLatticeDeformCtx")
			-radialPosition "W";

		menuItem
			-label $FourLabel
			-command ("texLatticeDeformContext -e -latticeColumns 4 texLatticeDeformCtx")
			-radialPosition "N";

		menuItem
			-label $FiveLabel
			-command ("texLatticeDeformContext -e -latticeColumns 5 texLatticeDeformCtx")
			-radialPosition "E";

		menuItem
			-label $SixLabel
			-command ("texLatticeDeformContext -e -latticeColumns 6 texLatticeDeformCtx")
			-radialPosition "S";

	setParent -m ..;

	menuItem
		-label $columnsLabel
		-radialPosition "E"
		-subMenu 1;

		menuItem
			-label $ThreeLabel
			-command ("texLatticeDeformContext -e -latticeRows 3 texLatticeDeformCtx")
			-radialPosition "W";

		menuItem
			-label $FourLabel
			-command ("texLatticeDeformContext -e -latticeRows 4 texLatticeDeformCtx")
			-radialPosition "N";

		menuItem
			-label $FiveLabel
			-command ("texLatticeDeformContext -e -latticeRows 5 texLatticeDeformCtx")
			-radialPosition "E";

		menuItem
			-label $SixLabel
			-command ("texLatticeDeformContext -e -latticeRows 6 texLatticeDeformCtx")
			-radialPosition "S";

	setParent -m ..;

	menuItem
		-checkBox $boundingRectValue
		-label $boundingRectLabel
		-command ("texLatticeDeformContext -e -useBoundingRect #1 texLatticeDeformCtx")
		-radialPosition "N";

	menuItem
		-label $placementLabel
		-radialPosition "S"
		-subMenu 1;

		menuItem
			-label $cornerLabel
			-checkBox (1 == $placementValue)
			-command ("texLatticeDeformContext -e -snapPixelMode 1 texLatticeDeformCtx")
			-radialPosition "N";

		menuItem
			-label $centerLabel
			-checkBox (0 == $placementValue)
			-command ("texLatticeDeformContext -e -snapPixelMode 0 texLatticeDeformCtx")
			-radialPosition "S";

	setParent -m ..;
}
