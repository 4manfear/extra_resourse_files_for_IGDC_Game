// ===========================================================================
// Copyright 2022 Autodesk, Inc. All rights reserved.
//
// Use of this software is subject to the terms of the Autodesk license
// agreement provided at the time of installation or download, or which
// otherwise accompanies this software in either electronic or hard copy form.
// ===========================================================================
//
//
//  Creation Date:	August 2, 2007
//
//  Procedure Name:
//	AEpolyEdgeToCurveTemplate
//
//  Description Name;
//	Creates the attribute editor controls for the polyEdgeToCurve Node
//
//  Input Value:
//	nodeName 
//
//  Output Value:
//	None
// 

global proc AEpolyEdgeToCurveConformToSMP( string $nodeName )
{
	string $attr = $nodeName + ".displaySmoothMesh";
	string $connections[] = `listConnections -source true $attr`;
	
	int $notConnected = (0 == size($connections));

	editorTemplate -dimControl $nodeName "conformToSmoothMeshPreview" $notConnected;
}

global proc AEpolyEdgeToCurveTemplate ( string $nodeName )
{
	editorTemplate -beginScrollLayout;
		editorTemplate -beginLayout (uiRes("m_AEpolyEdgeToCurveTemplate.kPolyEdgeToCurveHistory")) -collapse 0;
	
			editorTemplate -label (uiRes("m_AEpolyEdgeToCurveTemplate.kPolyEdgeToCurveIsPeriodic")) -addControl "form";
			editorTemplate -addControl "conformToSmoothMeshPreview" "AEpolyEdgeToCurveConformToSMP";
			editorTemplate -addControl "degree";

			// include/call base class/node attributes		
			AEpolyModifierCommon $nodeName;

		editorTemplate -endLayout;
		// include/call base class/node attributes		
		AEpolyModifierInclude $nodeName;

	editorTemplate -suppress "inputPolymesh";
	editorTemplate -suppress "inputSmoothPolymesh";
	editorTemplate -suppress "inputMat";
	editorTemplate -suppress "outputcurve";
	editorTemplate -suppress "inputComponents";
	editorTemplate -suppress "smoothLevel";
	editorTemplate -suppress "displaySmoothMesh";
	editorTemplate -addExtraControls;
	editorTemplate -endScrollLayout;
}
