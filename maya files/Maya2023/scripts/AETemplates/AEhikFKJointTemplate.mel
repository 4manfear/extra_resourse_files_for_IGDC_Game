// ===========================================================================
// Copyright 2022 Autodesk, Inc. All rights reserved.
//
// Use of this software is subject to the terms of the Autodesk license
// agreement provided at the time of installation or download, or which
// otherwise accompanies this software in either electronic or hard copy form.
// ===========================================================================
//
//  Procedure Name:
//	AEhikFKJointTemplate
//
//  Description:
//	Creates the attribute editor controls for the joint Node
//
//  Input Value:
//	nodeName
//
//  Output Value:
//	None
//


//
//  Procedure Name:
//	AEjointTemplate
//
//

source "jointTemplateUtils";


global proc updatehikFKJointTRSOffsetControls ( string $nodeName )
{
	int $look = `getAttr ($nodeName + ".look")`;
	
	// If look is either box, circle or square enable scaling offset
	//
	editorTemplate -dimControl $nodeName "scaleOffset" ( $look < 3 );
}

global proc AEhikFKJointTemplate ( string $nodeName ) 
{
editorTemplate -beginScrollLayout;
	// include/call base class/node attributes
	AEtransformMain $nodeName;

editorTemplate -beginLayout (uiRes("m_AEhikFKJointTemplate.kHikFKJoint"))  -collapse 0;

	editorTemplate -addControl "look" "updatehikFKJointTRSOffsetControls";

	editorTemplate -addControl "radius";

	editorTemplate -addControl "scaleOffset";

	editorTemplate -beginLayout (uiRes("m_AEhikFKJointTemplate.kJoint"))  -collapse 0;

	editorTemplate -callCustom "AEjointTypeNew" "AEjointTypeReplace" 
				"jointTypeX"
				"jointTypeY"
				"jointTypeZ";


	editorTemplate -addControl "jointOrient";
	editorTemplate -addControl "segmentScaleCompensate";


	editorTemplate -beginLayout (uiRes("m_AEhikFKJointTemplate.kJointLabelling"))  -collapse 0;
	editorTemplate -addControl "side";
	editorTemplate -addControl "type" "checkPuppetPartOther";
	editorTemplate -label (uiRes("m_AEhikFKJointTemplate.kOtherType"))  -addControl "otherType";
	editorTemplate -addControl "drawLabel";
	editorTemplate -endLayout;
	

editorTemplate -endLayout;

	//suppressed attributes
	editorTemplate -suppress "inverseScale";
	editorTemplate -suppress "bindPose";
	editorTemplate -suppress "bindRotation";
	editorTemplate -suppress "bindJointOrient";
	editorTemplate -suppress "bindScale";
	editorTemplate -suppress "bindInverseScale";	
	editorTemplate -suppress "bindSegmentScaleCompensate";	
	editorTemplate -suppress "jointOrientType";
	editorTemplate -suppress "jointType";	
	editorTemplate -suppress "dofMask";
	editorTemplate -suppress "fkRotate";
	editorTemplate -suppress "ikRotate";
	editorTemplate -suppress "Character"; // dynamic attr added by HumanIK
	editorTemplate -suppress "stiffness";
	editorTemplate -suppress "preferredAngle";
	editorTemplate -suppress "drawStyle";
	editorTemplate -suppress "ControlSet"; // dynamic attr added by HumanIK
	editorTemplate -suppress "translateOffset";
	editorTemplate -suppress "rotateOffset";
	editorTemplate -suppress "alternateGX";
	editorTemplate -suppress "useAlternateGX";

	// include/call base class/node attributes
	AEtransformNoScroll $nodeName;

	// For joints bound to smooth skins
	//
	AEtransformSkinCluster $nodeName;

editorTemplate -addExtraControls;
editorTemplate -endScrollLayout;

}
