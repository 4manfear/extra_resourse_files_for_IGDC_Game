<!--
Copyright 2016 Autodesk, Inc. All rights reserved. 

Use of this software is subject to the terms of the Autodesk 
license agreement provided at the time of installation or download, 
or which otherwise accompanies this software in either electronic 
or hard copy form.
-->
<fragment_graph  name="default" ref="default" class="FragmentGraph" version="1.0" feature_level="0" >
    <description>
    <![CDATA[
        In Maya 2020 and earlier, this was the default entry point into the render pass script system (the top-level script fragment graph).
        It wraps the Maya_3D_Renderer.xml fragment graph and connects it to system C++ fragments that expose current runtime settings such
        as post effect settings to XML fragments.
    ]]>
    </description>
    <fragments>
        <fragment_ref name="SSAOParameters" ref="SSAOParameters" />
        <fragment_ref name="MotionBlurParameters" ref="MotionBlurParameters" />
        <fragment_ref name="DOFParameters" ref="DOFParameters" />
        <fragment_ref name="Maya_3D_Renderer" ref="Maya_3D_Renderer" />
    </fragments>
    <connections>
        <connect from="SSAOParameters.enabled" to="Maya_3D_Renderer.ssaoEnabled" name="ssaoEnabled" />
        <connect from="MotionBlurParameters.enableMB" to="Maya_3D_Renderer.mbEnabled" name="mbEnabled" />
        <connect from="DOFParameters.enableDOF" to="Maya_3D_Renderer.dofEnabled" name="dofEnabled" />
        <connect from="SSAOParameters.SampleCount" to="Maya_3D_Renderer.SampleCount" name="SampleCount" />
        <connect from="SSAOParameters.SampleRadius" to="Maya_3D_Renderer.SampleRadius" name="SampleRadius" />
        <connect from="SSAOParameters.BlurAmount" to="Maya_3D_Renderer.BlurAmount" name="BlurAmount" />
        <connect from="SSAOParameters.CompositeFactor" to="Maya_3D_Renderer.CompositeFactor" name="CompositeFactor" />
        <connect from="MotionBlurParameters.shutterOpenFraction" to="Maya_3D_Renderer.shutterOpenFraction" name="shutterOpenFraction" />
        <connect from="MotionBlurParameters.useQuadraticMotionBlur" to="Maya_3D_Renderer.useQuadraticMotionBlur" name="useQuadraticMotionBlur" />
        <connect from="MotionBlurParameters.zThreshold" to="Maya_3D_Renderer.zThreshold" name="zThreshold" />
        <connect from="MotionBlurParameters.blurStepCount" to="Maya_3D_Renderer.blurStepCount" name="blurStepCount" />
        <connect from="MotionBlurParameters.motionFadeAmt" to="Maya_3D_Renderer.motionFadeAmt" name="motionFadeAmt" />
        <connect from="MotionBlurParameters.motionFadeEmphasis" to="Maya_3D_Renderer.motionFadeEmphasis" name="motionFadeEmphasis" />
        <connect from="MotionBlurParameters.motionFadeTint" to="Maya_3D_Renderer.motionFadeTint" name="motionFadeTint" />
        <connect from="MotionBlurParameters.motionBlurDebugOn" to="Maya_3D_Renderer.motionBlurDebugOn" name="motionBlurDebugOn" />
        <connect from="DOFParameters.alpha" to="Maya_3D_Renderer.alpha" name="alpha" />
        <connect from="DOFParameters.focusDistance" to="Maya_3D_Renderer.focusDistance" name="focusDistance" />
        <connect from="DOFParameters.alpha" to="Maya_3D_Renderer.cocAtInfinity" name="cocAtInfinity" />
        <connect from="DOFParameters.maxCocScale" to="Maya_3D_Renderer.maxCocScale" name="maxCocScale" />
        <connect from="DOFParameters.sampleSpacing1" to="Maya_3D_Renderer.sampleSpacing1" name="sampleSpacing1" />
        <connect from="DOFParameters.searchRadius1" to="Maya_3D_Renderer.searchRadius1" name="searchRadius1" />
        <connect from="DOFParameters.acceptThreshold" to="Maya_3D_Renderer.acceptThreshold" name="acceptThreshold" />
        <connect from="DOFParameters.sampleSpacing2" to="Maya_3D_Renderer.sampleSpacing2" name="sampleSpacing2" />
        <connect from="DOFParameters.searchRadius2" to="Maya_3D_Renderer.searchRadius2" name="searchRadius2" />
        <connect from="DOFParameters.spreadScale" to="Maya_3D_Renderer.spreadScale" name="spreadScale" />
        <connect from="DOFParameters.debugOn" to="Maya_3D_Renderer.debugOn" name="debugOn" />
    </connections>
    <properties>
        <target  name="finalDesc" ref="SSAOParameters.finalDesc" />
        <countedObject  name="postEffectList" ref="Maya_3D_Renderer.postEffectList" />
        <countedObject  name="advancedEffectList" ref="Maya_3D_Renderer.advancedEffectList" />
        <countedObject  name="opaqueUIList" ref="Maya_3D_Renderer.opaqueUIList" />
        <countedObject  name="opaqueUI2DList" ref="Maya_3D_Renderer.opaqueUI2DList" />
        <countedObject  name="transparentBitmapsList" ref="Maya_3D_Renderer.transparentBitmapsList" />
        <countedObject  name="transparentUIList" ref="Maya_3D_Renderer.transparentUIList" />
        <countedObject  name="transparentUI2DList" ref="Maya_3D_Renderer.transparentUI2DList" />
        <countedObject  name="xrayUIList" ref="Maya_3D_Renderer.xrayUIList" />
        <camera  name="camera" ref="Maya_3D_Renderer.camera" />
        <camera  name="camera2D" ref="Maya_3D_Renderer.camera2D" />
        <world  name="preOpaqueUIList" ref="Maya_3D_Renderer.opaqueUIList" />
        <world  name="preTransparentUIBitmapsList" ref="Maya_3D_Renderer.transparentBitmapsList" />
        <world  name="preTransparentUIList" ref="Maya_3D_Renderer.transparentUIList" />
        <countedObject  name="nonPostEffectList" ref="Maya_3D_Renderer.nonPostEffectList" />
        <target  name="maya_DOFEffect_final" ref="Maya_3D_Renderer.final" />
        <target  name="maya_MotionBlurEffectV1_final" ref="Maya_3D_Renderer.final" />
        <target  name="Maya_SSAO_Beauty_final" ref="Maya_3D_Renderer.final" />
        <float4  name="viewport" ref="Maya_3D_Renderer.viewport" />
		<world  name="quadDrawUIList" ref="Maya_3D_Renderer.quadDrawUIList" />
        <countedObject  name="quadDrawShadedList" ref="Maya_3D_Renderer.quadDrawShadedList" />
        <countedObject  name="transpList" ref="Maya_3D_Renderer.transpList" />
        <countedObject  name="unsupportedTranspList" ref="Maya_3D_Renderer.unsupportedTranspList" />
        <countedObject  name="opaqueList" ref="Maya_3D_Renderer.opaqueList" />
        <countedObject  name="alphaCutList" ref="Maya_3D_Renderer.alphaCutList" />
        <countedObject  name="holdOutList" ref="Maya_3D_Renderer.holdOutList" />
        <target  name="final" ref="Maya_3D_Renderer.input" />
        <int  name="clearFlag" ref="Maya_3D_Renderer.clearFlag" />
        <float4  name="clearColor" ref="Maya_3D_Renderer.clearColor" />
        <float  name="clearZ" ref="Maya_3D_Renderer.clearZ" />
        <int  name="clearStencil" ref="Maya_3D_Renderer.clearStencil" />
        <bool  name="disableAlpha" ref="Maya_3D_Renderer.disableAlpha" />
        <bool  name="verticalFlip" ref="Maya_3D_Renderer.verticalFlip" />
        <bool  name="evaluateAll" ref="Maya_3D_Renderer.evaluateAll" />
        <target  name="depth" ref="Maya_3D_Renderer.depth" />
        <effectInstance  name="materialOverrideInstance" ref="Maya_3D_Renderer.materialOverrideInstance" />
        <bool  name="drawOpaqueList" ref="Maya_3D_Renderer.drawOpaqueList" />
        <bool  name="opaqueListsEmpty" ref="Maya_3D_Renderer.opaqueListsEmpty" />
        <bool  name="enableLineAA" ref="Maya_3D_Renderer.enableLineAA" />
        <bool  name="quadDrawAlwaysOnTop" ref="Maya_3D_Renderer.quadDrawAlwaysOnTop" />
        <bool  name="drawUIList" ref="Maya_3D_Renderer.drawUIList" />
        <bool  name="drawTransparentList" ref="Maya_3D_Renderer.drawTransparentList" />
        <bool  name="transpListsEmpty" ref="Maya_3D_Renderer.transpListsEmpty" />
        <float4  name="scissorRect" ref="Maya_3D_Renderer.scissorRect" />
        <bool  name="backfaceTransparency" ref="Maya_3D_Renderer.backfaceTransparency" />
        <bool  name="highPrecisionTarget" ref="Maya_3D_Renderer.highPrecisionTarget" />
        <bool  name="useZPrePass" ref="Maya_3D_Renderer.useZPrePass" />
        <bool  name="listEmpty" ref="Maya_3D_Renderer.listEmpty" />
        <target  name="evaluate5" ref="Maya_3D_Renderer.evaluate5" evaluatedByOwner="true"  />
        <target  name="evaluate6" ref="Maya_3D_Renderer.evaluate6" evaluatedByOwner="true"  />
        <target  name="evaluate7" ref="Maya_3D_Renderer.evaluate7" evaluatedByOwner="true"  />
        <target  name="evaluate8" ref="Maya_3D_Renderer.evaluate8" evaluatedByOwner="true"  />
        <bool  name="isPreUI" ref="Maya_3D_Renderer.isPreUI" />
        <bool  name="drawPreUI" ref="Maya_3D_Renderer.a" />
        <bool  name="drawPostUI" ref="Maya_3D_Renderer.drawPostUI" />
        <bool  name="Maya_NDRenderer_Front_FrontFaces" ref="Maya_3D_Renderer.FrontFaces" />
        <bool  name="EnableSSAO" ref="Maya_3D_Renderer.EnableNormalDepth32" />
        <bool  name="SupportsClipping" ref="Maya_3D_Renderer.SupportsClipping" />
        <target  name="backFaceDepth" ref="Maya_3D_Renderer.backFaceDepth" />
        <bool  name="BlurDouble" ref="Maya_3D_Renderer.BlurDouble" />
        <float3  name="CompositeColor" ref="Maya_3D_Renderer.CompositeColor" />
    </properties>
    <values>
<float4 name="viewport" value="0.000000,0.000000,1.000000,1.000000"  />
<int name="clearFlag" value="7"  />
<float4 name="clearColor" value="0.000000,0.000000,0.000000,0.000000"  />
<float name="clearZ" value="1.000000"  />
<int name="clearStencil" value="0"  />
<bool name="disableAlpha" value="false"  />
<bool name="verticalFlip" value="false"  />
<bool name="drawOpaqueList" value="true"  />
<bool name="opaqueListsEmpty" value="true"  />
<bool name="enableLineAA" value="false"  />
<bool name="quadDrawAlwaysOnTop" value="false"  />
<bool name="drawUIList" value="true"  />
<bool name="drawTransparentList" value="true"  />
<bool name="transpListsEmpty" value="true"  />
<float4 name="scissorRect" value="0.000000,0.000000,1.000000,1.000000"  />
<bool name="backfaceTransparency" value="true"  />
<bool name="highPrecisionTarget" value="false"  />
<bool name="useZPrePass" value="true"  />
<bool name="listEmpty" value="true"  />
<bool name="isPreUI" value="true"  />
<bool name="drawPreUI" value="true"  />
<bool name="drawPostUI" value="true"  />
<bool name="Maya_NDRenderer_Front_FrontFaces" value="true"  />
<bool name="EnableSSAO" value="true"  />
<bool name="SupportsClipping" value="false"  />
<bool name="BlurDouble" value="true"  />
<float3 name="CompositeColor" value="0.000000,0.000000,0.000000"  />
    </values>
    <outputs>
        <target  name="res" ref="Maya_3D_Renderer.res" />
        <string  name="filterName" ref="SSAOParameters.filterName" />
        <float  name="nearSharpDistance" ref="DOFParameters.nearSharpDistance" />
        <float  name="farSharpDistance" ref="DOFParameters.farSharpDistance" />
    </outputs>
</fragment_graph>