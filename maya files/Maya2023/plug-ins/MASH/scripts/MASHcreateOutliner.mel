// ===========================================================================
// Copyright 2022 Autodesk, Inc. All rights reserved.
//
// Use of this software is subject to the terms of the Autodesk license
// agreement provided at the time of installation or download, or which
// otherwise accompanies this software in either electronic or hard copy form.
// ===========================================================================
global proc MASHcreateOutliner () {

    if (`itemFilter -exists MASHfilter` == 1)
    {
        delete MASHfilter;
    }
    //can't create the filter twice
    if (`itemFilter -exists MASHfilter` != 1)
    {
        itemFilter
        -byType "MASH_Waiter"
        -byType "MASH_Points"
        -byType "MASH_Audio"
        -byType "MASH_Blend"
        -byType "MASH_Curve"
        -byType "MASH_Distribute"
        -byType "MASH_Flight"
        -byType "MASH_Transform"
        -byType "MASH_Id"
        -byType "MASH_Influence"
        -byType "MASH_InitialState"
        -byType "MASH_Maths"
        -byType "MASH_Mute"
        -byType "MASH_Noise"
        -byType "MASH_Offset"
        -byType "MASH_Orient"
        -byType "MASH_Random"
        -byType "MASH_Replicator"
        -byType "MASH_Spring"
        -byType "MASH_Trig"
        -byType "MASH_Visibility"
        -byType "MASH_Symmetry"
        -byType "MASH_Repro"
        -byType "MASH_Explode"
        -byType "MASH_Trails"
        -byType "instancer"
         MASHfilter;
    }

    if ( `window -exists mashOutliner` ) {
     deleteUI mashOutliner;
    }

    //create a window
    window -rtf 1 -w 150 -h 350 -title "MASH Outliner" -iconName "ae_MASH_Waiter.png" mashOutliner;

    rowColumnLayout -numberOfColumns 1;
    button -w 250 -h 20 -label "Restart Outliner" -command "MASHcreateOutliner";
    setParent..;

    //and a layout
    string $frame = `frameLayout -w 250 -h 350 -lv 0`;

    //create a custom outliner
    outlinerEditor
            -mlc "worldList"
            -slc "modelList"
            -ssm 1
            -ams 1
            -dip 0
            -dag 0
            -parent $frame
            -f "MASHfilter"
            ;

    //show the window
    showWindow mashOutliner;
}
